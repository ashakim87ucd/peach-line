<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Peach Processing Line</title>
    <meta name="description" content="Peach Processing Line">
    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-extras@5.0.0/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.x/dist/aframe-look-at-component.min.js"></script>
    <script>
      AFRAME.registerComponent("marker1move", {
        init: function() {
          this.el.addEventListener("click", (e)=>{
          document.getElementById("rig").setAttribute('position', '0.5 0 -1.5')
          })
        }
      })
    </script>
    <script>
      AFRAME.registerComponent("marker2move", {
        init: function() {
          this.el.addEventListener("click", (e)=>{
          document.getElementById("rig").setAttribute('position', '2.5 0 -1.5')
          })
        }
      })
    </script>
    <script>
      AFRAME.registerComponent("marker3move", {
        init: function() {
          this.el.addEventListener("click", (e)=>{
          document.getElementById("rig").setAttribute('position', '3 0 -2.3')
          })
        }
      })
    </script>
    <script>
      AFRAME.registerComponent("marker4move", {
        init: function() {
          this.el.addEventListener("click", (e)=>{
          document.getElementById("rig").setAttribute('position', '2.5 0 -3.2')
          })
        }
      })
    </script>
    <script>
      AFRAME.registerComponent("marker5move", {
        init: function() {
          this.el.addEventListener("click", (e)=>{
          document.getElementById("rig").setAttribute('position', '1.7 0 -3.2')
          })
        }
      })
    </script>
    <script>
      AFRAME.registerComponent("marker6move", {
        init: function() {
          this.el.addEventListener("click", (e)=>{
          document.getElementById("rig").setAttribute('position', '0.2 0 -3.9')
          })
        }
      })
    </script>
    <script>
      AFRAME.registerComponent("marker7move", {
        init: function() {
          this.el.addEventListener("click", (e)=>{
          document.getElementById("rig").setAttribute('position', '-1 0 -3.9')
          })
        }
      })
    </script>
    <script>
      AFRAME.registerComponent("marker8move", {
        init: function() {
          this.el.addEventListener("click", (e)=>{
          document.getElementById("rig").setAttribute('position', '-3 0 -3.9')
          })
        }
      })
    </script>
    <script>
      AFRAME.registerComponent("marker9move", {
        init: function() {
          this.el.addEventListener("click", (e)=>{
          document.getElementById("rig").setAttribute('position', '-1 0 -5.5')
          })
        }
      })
    </script>
    <script>
      AFRAME.registerComponent("marker10move", {
        init: function() {
          this.el.addEventListener("click", (e)=>{
          document.getElementById("rig").setAttribute('position', '-5.3 0 -2.5')
          })
        }
      })
    </script>
    <script>
      AFRAME.registerComponent("marker11move", {
        init: function() {
          this.el.addEventListener("click", (e)=>{
          document.getElementById("rig").setAttribute('position', '-5.3 0 -1')
          })
        }
      })
    </script>
    <script>
      AFRAME.registerComponent("marker12move", {
        init: function() {
          this.el.addEventListener("click", (e)=>{
          document.getElementById("rig").setAttribute('position', '-5.3 0 0.8')
          })
        }
      })
    </script>
    <script>
      AFRAME.registerComponent("marker13move", {
        init: function() {
          this.el.addEventListener("click", (e)=>{
          document.getElementById("rig").setAttribute('position', '-3 0 2.6')
          })
        }
      })
    </script>
    <script>
      AFRAME.registerComponent("marker14move", {
        init: function() {
          this.el.addEventListener("click", (e)=>{
          document.getElementById("rig").setAttribute('position', '0 0 2')
          })
        }
      })
    </script>
    <script>
      AFRAME.registerComponent("marker15move", {
        init: function() {
          this.el.addEventListener("click", (e)=>{
          document.getElementById("rig").setAttribute('position', '1.7 0 0.2')
          })
        }
      })
    </script>
  </head>
  
  <body>
    <a-scene background="color: #FAFAFA" cursor="rayOrigin: mouse" raycaster="objects: .clickable" renderer="colorManagement: true">
      <a-sky color="#FAFAFA"></a-sky>
      <a-light intensity="0.8" type="ambient" color="#FAFAFA"></a-light>
      <a-light type="directional" intensity="0.4" color="#FAFAFA" position="4 3 -1"></a-light>
      <a-light type="directional" intensity="0.4" color="#FAFAFA" position="-2 3 -2"></a-light>
             
     <a-assets>
      <a-asset-item id="gltf" src="./assets/peach_env10.glb"></a-asset-item>
      <a-asset-item id="navmesh" src="./assets/peach_nav3.glb"></a-asset-item>
      <img id="concrete" src="assets/concrete.jpg">
      <img id="banner" src="assets/banner.jpg">
      <img id="instructions" src="assets/screen2new.jpg">
      <img id="peachposter" src="assets/USDA%20peach.jpg">
      <img id="appleposter" src="assets/USDA%20apple.jpg">
      <img id="plumposter" src="assets/USDA%20plum.jpg">
      <img id="persimmonsposter" src="assets/USDA%20persimmons.jpg">
      <img id="orangeposter" src="assets/USDA%20orange.jpg">
      <img id="strawberryposter" src="assets/USDA%20strawberry.jpg">
     </a-assets>
      
      <!--Primary environment model and images displayed within environment-->
      <a-entity id="object1" gltf-model="#gltf" scale="0.3 0.3 0.3" position="-0.5 1.3 -0.8" visible="true"></a-entity>
      <a-image src="#instructions" position="-0.6 1.2 -0.73" scale="0.7 0.38" rotation="0 0 0"></a-image>
      <a-image src="#banner" position="-0.6 1.9 4.1" scale="4.2 2.28" rotation="0 180 0"></a-image>
      <a-image src="#peachposter" position="2 1.9 -6.37" scale="1.65 2.46" rotation="0 0 0"></a-image>
      <a-image src="#orangeposter" position="-2 1.9 -6.37" scale="1.65 2.46" rotation="0 0 0"></a-image>
      <a-image src="#strawberryposter" position="-5.81 1.9 -4" scale="1.65 2.46" rotation="0 90 0"></a-image>
      <a-image src="#plumposter" position="-5.81 1.9 0" scale="1.65 2.46" rotation="0 90 0"></a-image>
      <a-image src="#appleposter" position="4.65 1.9 0" scale="1.65 2.46" rotation="0 -90 0"></a-image>
      <a-image src="#persimmonsposter" position="4.65 1.9 -4" scale="1.65 2.46" rotation="0 -90 0"></a-image>
      
      <!--Teleporter markers-->
      <a-entity id="marker1" geometry="primitive: tetrahedron" class="clickable" material="color: red" scale="0.2 0.2 0.2" position="0.5 0.92 -2.5" rotation="45 0 45" animation="property: position; from: 0.5 0.52 -1.5; to: 0.5 0.62 -1.5; dur: 2000; easing: linear; dir: alternate; loop: true" animation__2="property: rotation; to: 45 360 45; dur: 4000; easing: linear; loop:true" marker1move></a-entity>
      <a-entity id="marker2" geometry="primitive: tetrahedron" class="clickable" material="color: red" scale="0.2 0.2 0.2" position="0.5 0.92 -2.5" rotation="45 0 45" animation="property: position; from: 2.5 0.52 -1.5; to: 2.5 0.62 -1.5; dur: 2000; easing: linear; dir: alternate; loop: true" animation__2="property: rotation; to: 45 360 45; dur: 4000; easing: linear; loop:true" marker2move></a-entity>
      <a-entity id="marker3" geometry="primitive: tetrahedron" class="clickable" material="color: red" scale="0.2 0.2 0.2" position="0.5 0.92 -2.5" rotation="45 0 45" animation="property: position; from: 3 0.52 -2.3; to: 3 0.62 -2.3; dur: 2000; easing: linear; dir: alternate; loop: true" animation__2="property: rotation; to: 45 360 45; dur: 4000; easing: linear; loop:true" marker3move></a-entity>
      <a-entity id="marker4" geometry="primitive: tetrahedron" class="clickable" material="color: red" scale="0.2 0.2 0.2" position="0.5 0.92 -2.5" rotation="45 0 45" animation="property: position; from: 2.5 0.52 -3.2; to: 2.5 0.62 -3.2; dur: 2000; easing: linear; dir: alternate; loop: true" animation__2="property: rotation; to: 45 360 45; dur: 4000; easing: linear; loop:true" marker4move></a-entity>
      <a-entity id="marker5" geometry="primitive: tetrahedron" class="clickable" material="color: red" scale="0.2 0.2 0.2" position="0.5 0.92 -2.5" rotation="45 0 45" animation="property: position; from: 1.7 0.52 -3.2; to: 1.7 0.62 -3.2; dur: 2000; easing: linear; dir: alternate; loop: true" animation__2="property: rotation; to: 45 360 45; dur: 4000; easing: linear; loop:true" marker5move></a-entity>
      <a-entity id="marker6" geometry="primitive: tetrahedron" class="clickable" material="color: red" scale="0.2 0.2 0.2" position="0.5 0.92 -2.5" rotation="45 0 45" animation="property: position; from: 0.2 0.52 -3.9; to: 0.2 0.62 -3.9; dur: 2000; easing: linear; dir: alternate; loop: true" animation__2="property: rotation; to: 45 360 45; dur: 4000; easing: linear; loop:true" marker6move></a-entity>
      <a-entity id="marker7" geometry="primitive: tetrahedron" class="clickable" material="color: red" scale="0.2 0.2 0.2" position="0.5 0.92 -2.5" rotation="45 0 45" animation="property: position; from: -1 0.52 -3.9; to: -1 0.62 -3.9; dur: 2000; easing: linear; dir: alternate; loop: true" animation__2="property: rotation; to: 45 360 45; dur: 4000; easing: linear; loop:true" marker7move></a-entity>
      <a-entity id="marker8" geometry="primitive: tetrahedron" class="clickable" material="color: red" scale="0.2 0.2 0.2" position="0.5 0.92 -2.5" rotation="45 0 45" animation="property: position; from: -3 0.52 -3.9; to: -3 0.62 -3.9; dur: 2000; easing: linear; dir: alternate; loop: true" animation__2="property: rotation; to: 45 360 45; dur: 4000; easing: linear; loop:true" marker8move></a-entity>
      <a-entity id="marker9" geometry="primitive: tetrahedron" class="clickable" material="color: red" scale="0.2 0.2 0.2" position="0.5 0.92 -2.5" rotation="45 0 45" animation="property: position; from: -1 0.52 -5.5; to: -1 0.62 -5.5; dur: 2000; easing: linear; dir: alternate; loop: true" animation__2="property: rotation; to: 45 360 45; dur: 4000; easing: linear; loop:true" marker9move></a-entity>
      <a-entity id="marker10" geometry="primitive: tetrahedron" class="clickable" material="color: red" scale="0.2 0.2 0.2" position="0.5 0.92 -2.5" rotation="45 0 45" animation="property: position; from: -5.3 0.52 -2.5; to: -5.3 0.62 -2.5; dur: 2000; easing: linear; dir: alternate; loop: true" animation__2="property: rotation; to: 45 360 45; dur: 4000; easing: linear; loop:true" marker10move></a-entity>
      <a-entity id="marker11" geometry="primitive: tetrahedron" class="clickable" material="color: red" scale="0.2 0.2 0.2" position="0.5 0.92 -2.5" rotation="45 0 45" animation="property: position; from: -5.3 0.52 -1; to: -5.3 0.62 -1; dur: 2000; easing: linear; dir: alternate; loop: true" animation__2="property: rotation; to: 45 360 45; dur: 4000; easing: linear; loop:true" marker11move></a-entity>
      <a-entity id="marker12" geometry="primitive: tetrahedron" class="clickable" material="color: red" scale="0.2 0.2 0.2" position="0.5 0.92 -2.5" rotation="45 0 45" animation="property: position; from: -5.3 0.52 0.8; to: -5.3 0.62 0.8; dur: 2000; easing: linear; dir: alternate; loop: true" animation__2="property: rotation; to: 45 360 45; dur: 4000; easing: linear; loop:true" marker12move></a-entity>
      <a-entity id="marker13" geometry="primitive: tetrahedron" class="clickable" material="color: red" scale="0.2 0.2 0.2" position="0.5 0.92 -2.5" rotation="45 0 45" animation="property: position; from: -3 0.52 2.6; to: -3 0.62 2.6; dur: 2000; easing: linear; dir: alternate; loop: true" animation__2="property: rotation; to: 45 360 45; dur: 4000; easing: linear; loop:true" marker13move></a-entity>
      <a-entity id="marker14" geometry="primitive: tetrahedron" class="clickable" material="color: red" scale="0.2 0.2 0.2" position="0.5 0.92 -2.5" rotation="45 0 45" animation="property: position; from: -0 0.52 2; to: -0 0.62 2; dur: 2000; easing: linear; dir: alternate; loop: true" animation__2="property: rotation; to: 45 360 45; dur: 4000; easing: linear; loop:true" marker14move></a-entity>
      <a-entity id="marker15" geometry="primitive: tetrahedron" class="clickable" material="color: red" scale="0.2 0.2 0.2" position="0.5 0.92 -2.5" rotation="45 0 45" animation="property: position; from: 1.7 0.52 0.2; to: 1.7 0.62 0.2; dur: 2000; easing: linear; dir: alternate; loop: true" animation__2="property: rotation; to: 45 360 45; dur: 4000; easing: linear; loop:true" marker15move></a-entity>
        
      <!-- Floor, walls and navigation mesh -->
      <a-entity gltf-model="#navmesh" scale="0.3 0.3 0.3" position="-0.5 1 -0.8" visible="true" nav-mesh></a-entity>
      
      <!--Player rig-->
      <a-entity id="rig" movement-controls="speed: 0.08; constrainToNavMesh: true">
        <a-entity camera position="0 1.6 0" look-controls></a-entity>
        <a-entity oculus-go-controls></a-entity>
        <a-entity oculus-touch-controls></a-entity>
        <a-entity laser-controls="hand: right"></a-entity>
      </a-entity>
    </a-scene>
  </body>
</html>
